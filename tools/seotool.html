<div class="tool-container seo-container">
    <div class="seo-header">
        <h3><i data-lucide="bar-chart" style="margin-right: 8px;"></i> Basic SEO Content Analyzer</h3>
        <p style="font-size: 0.85rem; color: var(--color-text-secondary); margin-bottom: 20px;">Analyze your Title Tags and Meta Descriptions for optimal Google Search visibility.</p>
    </div>

    <div class="input-group">
        <label style="display: flex; justify-content: space-between;">
            SEO Page Title
            <span id="seoTitleCount" style="font-weight: normal; font-size: 0.8rem;">0 / 60</span>
        </label>
        <input type="text" id="seoTitle" placeholder="Enter your page title..." oninput="analyzeSEO()" />
        <div class="seo-bar-container"><div id="seoTitleBar" class="seo-bar"></div></div>
        <small id="seoTitleMsg" class="seo-msg">Optimal length: 50-60 characters.</small>
    </div>

    <div class="input-group" style="margin-top: 25px;">
        <label style="display: flex; justify-content: space-between;">
            Meta Description
            <span id="seoDescCount" style="font-weight: normal; font-size: 0.8rem;">0 / 160</span>
        </label>
        <textarea id="seoDesc" rows="4" placeholder="Enter your meta description..." oninput="analyzeSEO()"></textarea>
        <div class="seo-bar-container"><div id="seoDescBar" class="seo-bar"></div></div>
        <small id="seoDescMsg" class="seo-msg">Optimal length: 150-160 characters.</small>
    </div>

    <div class="input-group" style="margin-top: 25px;">
        <label style="display: flex; justify-content: space-between;">
            General Text / Body
            <span id="seoBodyStats" style="font-weight: normal; font-size: 0.8rem;">Words: 0 | Chars: 0</span>
        </label>
        <textarea id="seoBody" rows="6" placeholder="Paste your article/content here to count words and characters..." oninput="analyzeSEO()"></textarea>
    </div>
</div>

<style>
    .seo-container { background: var(--color-bg-1); padding: 25px; border-radius: var(--radius-lg); border: 1px solid var(--color-border); }
    .input-group label { display: block; font-weight: bold; margin-bottom: 5px; color: var(--color-primary); font-size: 0.9rem; }
    .input-group input, .input-group textarea { width: 100%; padding: 10px; border: 1px solid var(--color-border); background: var(--color-bg-2); color: var(--color-text); border-radius: 4px; font-family: var(--font-family-base); resize: vertical; }
    
    .seo-bar-container { width: 100%; height: 4px; background: var(--color-bg-2); border-radius: 2px; margin-top: 6px; overflow: hidden; }
    .seo-bar { height: 100%; width: 0%; transition: width 0.3s, background-color 0.3s; }
    .seo-msg { display: block; margin-top: 6px; font-size: 0.75rem; color: var(--color-text-secondary); }
</style>

<script>
    if(window.lucide) window.lucide.createIcons();

    window.analyzeSEO = function() {
        // --- TITLE TAG (Target: 50 - 60) ---
        const title = document.getElementById('seoTitle').value;
        const tCount = title.length;
        document.getElementById('seoTitleCount').textContent = `${tCount} / 60`;
        
        let tBar = document.getElementById('seoTitleBar');
        let tMsg = document.getElementById('seoTitleMsg');
        tBar.style.width = Math.min((tCount / 60) * 100, 100) + "%";
        
        if (tCount === 0) {
            tBar.style.backgroundColor = "transparent";
            tMsg.textContent = "Optimal length: 50-60 characters.";
        } else if (tCount < 30) {
            tBar.style.backgroundColor = "var(--color-warning)";
            tMsg.textContent = "Too short. Add more descriptive keywords.";
        } else if (tCount >= 50 && tCount <= 60) {
            tBar.style.backgroundColor = "var(--color-success)";
            tMsg.textContent = "Perfect length!";
        } else if (tCount > 60) {
            tBar.style.backgroundColor = "var(--color-error)";
            tMsg.textContent = "Too long. Google may truncate this in search results.";
        } else {
            tBar.style.backgroundColor = "var(--color-primary)";
            tMsg.textContent = "Good length, but could be slightly longer.";
        }

        // --- META DESCRIPTION (Target: 150 - 160) ---
        const desc = document.getElementById('seoDesc').value;
        const dCount = desc.length;
        document.getElementById('seoDescCount').textContent = `${dCount} / 160`;
        
        let dBar = document.getElementById('seoDescBar');
        let dMsg = document.getElementById('seoDescMsg');
        dBar.style.width = Math.min((dCount / 160) * 100, 100) + "%";
        
        if (dCount === 0) {
            dBar.style.backgroundColor = "transparent";
            dMsg.textContent = "Optimal length: 150-160 characters.";
        } else if (dCount < 100) {
            dBar.style.backgroundColor = "var(--color-warning)";
            dMsg.textContent = "Too short. Describe the page better.";
        } else if (dCount >= 140 && dCount <= 160) {
            dBar.style.backgroundColor = "var(--color-success)";
            dMsg.textContent = "Perfect length!";
        } else if (dCount > 160) {
            dBar.style.backgroundColor = "var(--color-error)";
            dMsg.textContent = "Too long. Will likely be cut off by search engines.";
        } else {
            dBar.style.backgroundColor = "var(--color-primary)";
            dMsg.textContent = "Good, but you can add a bit more detail.";
        }

        // --- BODY TEXT STATS ---
        const bodyText = document.getElementById('seoBody').value;
        const bChars = bodyText.length;
        const bWords = bodyText.trim().split(/\s+/).filter(w => w.length > 0).length;
        document.getElementById('seoBodyStats').textContent = `Words: ${bWords} | Chars: ${bChars}`;
    };

    // Init
    window.analyzeSEO();
</script>